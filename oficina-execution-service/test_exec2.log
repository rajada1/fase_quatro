{"timestamp":"2026-02-01T23:46:56.6915499-03:00","@version":"1","message":"Could not detect default configuration classes for test class [br.com.grupo99.executionservice.bdd.BootstrapTest]: BootstrapTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.","logger":"org.springframework.test.context.support.AnnotationConfigContextLoaderUtils","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:46:57.1250049-03:00","@version":"1","message":"Found @SpringBootConfiguration br.com.grupo99.executionservice.ExecutionServiceApplication for test class br.com.grupo99.executionservice.bdd.BootstrapTest","logger":"org.springframework.boot.test.context.SpringBootTestContextBootstrapper","thread":"main","level":"INFO","level_value":20000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:46:59.0773129-03:00","@version":"1","message":"Starting BootstrapTest using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.BootstrapTest","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:46:59.0783153-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.BootstrapTest","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:05.8692298-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:07.9030742-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:12.2552738-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:12.2627707-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:12.2657807-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:12.2702995-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:12.2953878-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:12.3032914-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:12.3138807-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:12.32194-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:12.32835-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:12.3437905-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:12.3473075-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:16.7413751-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:17.8640663-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:17.8646465-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:17.8647744-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:17.8652814-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:17.865386-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:17.865386-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:17.8659448-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:19.2839114-03:00","@version":"1","message":"Started BootstrapTest in 21.476 seconds (process running for 28.333)","logger":"br.com.grupo99.executionservice.bdd.BootstrapTest","thread":"main","level":"INFO","level_value":20000}
WARNING: A Java agent has been loaded dynamically (C:\Users\Meu Computador\.m2\repository\net\bytebuddy\byte-buddy-agent\1.14.19\byte-buddy-agent-1.14.19.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
{"timestamp":"2026-02-01T23:47:20.7955785-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 1b747219-ccad-57d7-bb81-13e3de49c328)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 1b747219-ccad-57d7-bb81-13e3de49c328)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:20.9670641-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (OS): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 592f09ca-5e99-5414-b5b0-68304c7d60eb)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 592f09ca-5e99-5414-b5b0-68304c7d60eb)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeOSEvents(ExecutionEventListener.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:21.9024898-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:21.9030062-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:23.9965265-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:24.057037-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:24.337048-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:24.3389963-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:24.3410078-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:24.3420061-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:24.3430074-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:24.3450065-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:24.3485149-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:24.3510393-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:24.3539481-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:24.3574752-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:24.3599943-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:25.1637047-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:25.5375397-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:25.538543-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:25.5395417-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:25.5395417-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:25.5405441-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:25.5405441-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:25.5405441-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:26.0054517-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 609bbadb-28cb-569f-bcc1-db213a227260)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 609bbadb-28cb-569f-bcc1-db213a227260)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:26.1727071-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (OS): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: f7debb35-54e4-52d1-bdf3-dacf460d462e)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: f7debb35-54e4-52d1-bdf3-dacf460d462e)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeOSEvents(ExecutionEventListener.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:26.2219055-03:00","@version":"1","message":"Started SagaExecucaoSteps in 4.41 seconds (process running for 35.272)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: Saga Step 1 - Receber OS Criada e Registrar ExecuþÒo # features/saga_execucao.feature:11
  Dado que o Execution Service estß disponÝvel                # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada          # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que o evento "OS_CRIADA" foi publicado                 # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queOEventoFoiPublicado(java.lang.String)
  E contÚm os dados:                                          # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.contemOsDados(io.cucumber.datatable.DataTable)
    | osId         | 550e8400-e29b-41d4-a716-446655440000 |
    | clienteNome  | Maria Santos                         |
    | veiculoPlaca | XYZ-5678                             |
    | descricao    | Troca de ¾leo e filtros              |
  Quando o Execution Service recebe o evento                  # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.executionServiceRecebeEvento()
  EntÒo um registro de execuþÒo deve ser criado               # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.umRegistroDeExecucaoDeveSerCriado()
  E o status da execuþÒo deve ser "AGUARDANDO_INICIO"         # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.statusDaExecucaoDeveSer(java.lang.String)
  E a execuþÒo deve estar associada Ó OS                      # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aExecucaoDeveEstarAssociadaAOS()
{"timestamp":"2026-02-01T23:47:26.7330628-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: a59cd357-d3e6-5b95-ab8c-b2adc10c1895)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: a59cd357-d3e6-5b95-ab8c-b2adc10c1895)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:26.7646713-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:26.7686828-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:26.770678-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:26.7716816-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:26.9809537-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:26.9819575-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:28.3803818-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:28.4949728-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:28.8295784-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:28.8305781-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:28.8305781-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:28.8305781-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:28.8322011-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:28.8360207-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:28.840021-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:28.8420201-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:28.8430207-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:28.8465349-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:28.85046-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:29.1017176-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:29.2494023-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:29.2494023-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:29.2494023-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:29.2494023-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:29.2494023-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:29.2494023-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:29.2503982-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:29.5457932-03:00","@version":"1","message":"Started SagaExecucaoSteps in 2.736 seconds (process running for 38.596)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: Saga Step 2 - Realizar Diagn¾stico                                     # features/saga_execucao.feature:23
  Dado que o Execution Service estß disponÝvel                                  # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada                            # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que existe uma execuþÒo para a OS "550e8400-e29b-41d4-a716-446655440000" # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExisteUmaExecucaoParaOS(java.lang.String)
  Quando o mecÔnico realiza o diagn¾stico                                       # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oMecanicoRealizaDiagnostico()
  E identifica os seguintes problemas:                                          # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.identificaOsSeguintesProblemas(io.cucumber.datatable.DataTable)
    | problema                | valor_estimado |
    | Troca de ¾leo           | 300.00         |
    | Troca de filtro de ar   | 150.00         |
    | Troca de filtro de ¾leo | 100.00         |
  EntÒo o diagn¾stico deve ser registrado                                       # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oDiagnosticoDeveSerRegistrado()
  E o valor total estimado deve ser "550.00"                                    # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oValorTotalEstimadoDeveSer(java.lang.String)
  E o evento "DIAGNOSTICO_CONCLUIDO" deve ser publicado                         # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.eventoDeveSerPublicado(java.lang.String)
  E o Billing Service deve receber o evento                                     # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oBillingServiceDeveReceberOEvento()
{"timestamp":"2026-02-01T23:47:30.0401493-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 65defe64-2c59-5627-917b-9f9e3eb4e778)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 65defe64-2c59-5627-917b-9f9e3eb4e778)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:30.0570358-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:30.0590458-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:30.0614153-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:30.0624273-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:30.180349-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:30.1818589-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:31.1801271-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:31.1816404-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 7c1c88ed-6cf5-558d-b569-e9177e1b4172)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 7c1c88ed-6cf5-558d-b569-e9177e1b4172)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:31.2547641-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:31.3411325-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (OS): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 231e68f6-8eab-51a3-a1c7-090c9c44b55c)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 231e68f6-8eab-51a3-a1c7-090c9c44b55c)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeOSEvents(ExecutionEventListener.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:31.4689164-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:31.4699192-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:31.4699192-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:31.4699192-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:31.4709165-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:31.4729183-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:31.4762316-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:31.4782306-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:31.4812295-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:31.4842295-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:31.4877457-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:31.7002867-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:31.8131293-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:31.8131293-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:31.8131293-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:31.8131293-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:31.8131293-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:31.8131293-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:31.8141301-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:32.0065484-03:00","@version":"1","message":"Started SagaExecucaoSteps in 1.923 seconds (process running for 41.057)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: Saga Step 3 - Iniciar ExecuþÒo Ap¾s AprovaþÒo        # features/saga_execucao.feature:36
  Dado que o Execution Service estß disponÝvel                # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada          # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que existe uma execuþÒo com status "AGUARDANDO_INICIO" # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExisteUmaExecucaoComStatus(java.lang.String)
  E o evento "ORCAMENTO_APROVADO" foi recebido                # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oEventoFoiRecebido2(java.lang.String)
  Quando o Execution Service processa o evento                # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oExecutionServiceProcessaOEvento()
  EntÒo o status deve mudar para "EM_ANDAMENTO"               # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.statusDeveMudarPara(java.lang.String)
  E a data de inÝcio deve ser registrada                      # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.dataDeInicioDeveSerRegistrada()
  E o mecÔnico responsßvel deve ser atribuÝdo                 # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oMecanicoResponsavelDeveSerAtribuido()
{"timestamp":"2026-02-01T23:47:32.4866451-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 73b23716-70ec-5cd4-8132-56ec621cb197)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 73b23716-70ec-5cd4-8132-56ec621cb197)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:32.5036951-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:32.5057029-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:32.5077059-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:32.5077059-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:32.5969718-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:32.5969718-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:33.3580181-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:33.4152711-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:33.5863112-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:33.5873002-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:33.5873002-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:33.5873002-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:33.5894462-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:33.591455-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:33.5944233-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:33.5959427-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:33.5979422-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:33.6009421-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:33.6024481-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:33.7516804-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:33.8752789-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:33.8752789-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:33.8752789-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:33.8752789-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:33.8752789-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:33.8752789-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:33.8752789-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:34.0451195-03:00","@version":"1","message":"Started SagaExecucaoSteps in 1.52 seconds (process running for 43.095)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: Saga Step 4 - Registrar Tarefas Durante ExecuþÒo # features/saga_execucao.feature:44
  Dado que o Execution Service estß disponÝvel            # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada      # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que existe uma execuþÒo com status "EM_ANDAMENTO"  # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExisteUmaExecucaoComStatus(java.lang.String)
  Quando o mecÔnico registra as seguintes tarefas:        # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oMecanicoRegistraAsSeguintesTarefas(io.cucumber.datatable.DataTable)
    | tarefa                | tempo_minutos | completa |
    | Drenar ¾leo usado     | 15            | true     |
    | Trocar filtro de ¾leo | 10            | true     |
    | Adicionar ¾leo novo   | 10            | true     |
  EntÒo todas as tarefas devem estar registradas          # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.todasAsTarefasDevemEstarRegistradas()
  E o progresso da execuþÒo deve ser atualizado           # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oProgressoDaExecucaoDeveSerAtualizado()
{"timestamp":"2026-02-01T23:47:34.5234595-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 272a78d3-2c34-571a-93ac-19293ec670ec)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 272a78d3-2c34-571a-93ac-19293ec670ec)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:34.5374425-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:34.5394412-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:34.5404531-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:34.5404531-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:34.6022722-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:34.6022722-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:35.2476225-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:35.3045754-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:35.460067-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:35.4610678-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:35.4610678-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:35.4620681-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:35.4620681-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:35.4640686-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:35.4665896-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:35.468592-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:35.4705885-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:35.4731099-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:35.4748695-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:35.6297989-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:35.7423179-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:35.7433189-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:35.7433189-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:35.7433189-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:35.7433189-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:35.7433189-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:35.7443209-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:35.9470767-03:00","@version":"1","message":"Started SagaExecucaoSteps in 1.393 seconds (process running for 44.997)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: Saga Step 5 - Registrar Uso de Peþas        # features/saga_execucao.feature:54
  Dado que o Execution Service estß disponÝvel       # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que existe uma execuþÒo em andamento          # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExisteUmaExecucaoEmAndamento()
  Quando o mecÔnico utiliza as seguintes peþas:      # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oMecanicoUtilizaAsSeguintesPecas(io.cucumber.datatable.DataTable)
    | peca           | quantidade | valor_unitario |
    | Ëleo 5W30      | 4          | 75.00          |
    | Filtro de ¾leo | 1          | 100.00         |
    | Filtro de ar   | 1          | 150.00         |
  EntÒo todas as peþas devem ser registradas         # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.todasAsPecasDevemSerRegistradas()
  E o valor total de peþas deve ser "550.00"         # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oValorTotalDePecasDeveSer(java.lang.String)
{"timestamp":"2026-02-01T23:47:36.3621355-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: d4ced320-fad3-5d0a-93af-b2dae827e9f5)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: d4ced320-fad3-5d0a-93af-b2dae827e9f5)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:36.4226243-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 71a5ea9c-e00c-5468-ab8d-8b66f2f82cf5)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 71a5ea9c-e00c-5468-ab8d-8b66f2f82cf5)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:36.433803-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:36.4348067-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:36.4364781-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:36.4373282-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:36.5038504-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:36.5038504-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:36.521329-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (OS): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 0d0c5cce-727b-52bb-a845-3d34608f6644)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 0d0c5cce-727b-52bb-a845-3d34608f6644)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeOSEvents(ExecutionEventListener.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:37.1104081-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:37.1821396-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:37.334452-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:37.334452-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:37.3354464-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:37.3354464-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:37.3364484-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:37.3394475-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:37.3414483-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:37.3429565-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:37.3439645-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:37.345965-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:37.346965-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:37.4958131-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:37.6101223-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:37.6111227-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:37.6111227-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:37.6111227-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:37.6111227-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:37.6111227-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:37.6111227-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:37.7885061-03:00","@version":"1","message":"Started SagaExecucaoSteps in 1.341 seconds (process running for 46.839)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: Saga Step 6 - Finalizar ExecuþÒo             # features/saga_execucao.feature:64
  Dado que o Execution Service estß disponÝvel        # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada  # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que existe uma execuþÒo em andamento           # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExisteUmaExecucaoEmAndamento()
  E todas as tarefas foram concluÝdas                 # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.todasAsTarefasForamConcluidas()
  Quando o mecÔnico finaliza a execuþÒo               # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oMecanicoFinalizaAExecucao()
  EntÒo o status deve mudar para "CONCLUIDA"          # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.statusDeveMudarPara(java.lang.String)
  E a data de finalizaþÒo deve ser registrada         # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aDataDeFinalizacaoDeveSerRegistrada()
  E o evento "EXECUCAO_FINALIZADA" deve ser publicado # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.eventoDeveSerPublicado(java.lang.String)
  E o OS Service deve receber o evento                # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.osServiceDeveReceberEvento()
  E o Billing Service deve receber o evento           # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oBillingServiceDeveReceberOEvento()
{"timestamp":"2026-02-01T23:47:38.2361333-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 236cdee8-f648-5d0a-9a9c-bf12e4bde9f5)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 236cdee8-f648-5d0a-9a9c-bf12e4bde9f5)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:38.2474865-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:38.2484909-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:38.2494868-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:38.2494868-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:38.3123402-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:38.3133349-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:38.8842986-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:38.9297626-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:39.071435-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.0723254-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.0723254-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.0723254-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.0733251-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.0743251-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.0763269-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.0773265-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.0783256-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.0800682-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.0826019-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.2040907-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:39.2888505-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:39.2888505-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:39.2888505-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:39.2903568-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:39.2903568-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:39.2903568-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:39.2903568-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:39.4182504-03:00","@version":"1","message":"Started SagaExecucaoSteps in 1.156 seconds (process running for 48.469)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: CompensaþÒo - Orþamento Rejeitado                    # features/saga_execucao.feature:74
  Dado que o Execution Service estß disponÝvel                # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada          # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que existe uma execuþÒo com status "AGUARDANDO_INICIO" # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExisteUmaExecucaoComStatus(java.lang.String)
  E o agendamento foi feito                                   # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oAgendamentoFoiFeito()
  Quando o evento "ORCAMENTO_REJEITADO" Ú recebido            # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.eventoERecebido(java.lang.String)
  EntÒo o status deve mudar para "CANCELADA"                  # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.statusDeveMudarPara(java.lang.String)
  E o agendamento deve ser cancelado                          # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oAgendamentoDeveSerCancelado()
  E nenhum trabalho deve ser iniciado                         # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.nenhumTrabalhoDeveSerIniciado()
{"timestamp":"2026-02-01T23:47:39.889874-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: bbb33cde-7243-53c6-a2a5-5d2460b432b1)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: bbb33cde-7243-53c6-a2a5-5d2460b432b1)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:39.900965-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.9019643-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.9041686-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:39.9046796-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:39.9569001-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:39.9569001-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:40.5521726-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:40.6036447-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:40.7541933-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:40.7551901-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:40.7561919-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:40.7561919-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:40.7576265-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:40.7596358-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:40.761637-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:40.763147-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:40.765158-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:40.7671589-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:40.7701559-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:40.9094177-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:41.0027203-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:41.0036951-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:41.0036951-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:41.0036951-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:41.0036951-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:41.0036951-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:41.0047085-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:41.1344176-03:00","@version":"1","message":"Started SagaExecucaoSteps in 1.219 seconds (process running for 50.184)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: CompensaþÒo - OS Cancelada                      # features/saga_execucao.feature:82
  Dado que o Execution Service estß disponÝvel           # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada     # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que existe uma execuþÒo com status "EM_ANDAMENTO" # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExisteUmaExecucaoComStatus(java.lang.String)
  E o mecÔnico jß iniciou o trabalho                     # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oMecanicoJaIniciouOTrabalho()
  Quando o evento "OS_CANCELADA" Ú recebido              # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.eventoERecebido(java.lang.String)
  EntÒo o status deve mudar para "CANCELADA"             # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.statusDeveMudarPara(java.lang.String)
  E o evento "EXECUCAO_FALHOU" deve ser publicado        # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.eventoDeveSerPublicado(java.lang.String)
  E o motivo deve ser "OS foi cancelada"                 # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oMotivoDeveSer(java.lang.String)
  E o trabalho em andamento deve ser interrompido        # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oTrabalhoEmAndamentoDeveSerInterrompido()
{"timestamp":"2026-02-01T23:47:41.5395409-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: ac3f6700-b390-5545-a79a-06faa169a1ba)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: ac3f6700-b390-5545-a79a-06faa169a1ba)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:41.6090878-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 7560e216-e0a9-5fe0-ba46-83ecf250bef9)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 7560e216-e0a9-5fe0-ba46-83ecf250bef9)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:41.6196332-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:41.6206076-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:41.6216069-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:41.6226033-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:41.6695769-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:41.6705803-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:41.6916329-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (OS): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 970fa64b-0f4c-5896-96ee-c7b11db5cc69)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 970fa64b-0f4c-5896-96ee-c7b11db5cc69)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeOSEvents(ExecutionEventListener.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:42.1864432-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:42.2277402-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:42.3478726-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:42.3478726-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:42.3478726-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:42.3488786-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:42.3488786-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:42.3508752-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:42.352875-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:42.3538848-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:42.3548721-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:42.3568719-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:42.3583832-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:42.4666338-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:42.5486557-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:42.5486557-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:42.5486557-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:42.5496391-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:42.5496391-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:42.5496391-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:42.5496391-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:42.6940135-03:00","@version":"1","message":"Started SagaExecucaoSteps in 1.063 seconds (process running for 51.744)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: CompensaþÒo - Falha Durante ExecuþÒo                # features/saga_execucao.feature:91
  Dado que o Execution Service estß disponÝvel               # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada         # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que existe uma execuþÒo em andamento                  # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExisteUmaExecucaoEmAndamento()
  Quando ocorre uma falha crÝtica durante a execuþÒo:        # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.ocorreUmaFalhaCriticaDuranteExecucao(io.cucumber.datatable.DataTable)
    | tipo_falha  | descricao                         |
    | EQUIPAMENTO | Equipamento de diagn¾stico falhou |
  EntÒo o status deve mudar para "CANCELADA"                 # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.statusDeveMudarPara(java.lang.String)
  E o evento "EXECUCAO_FALHOU" deve ser publicado            # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.eventoDeveSerPublicado(java.lang.String)
  E o motivo deve conter "Equipamento de diagn¾stico falhou" # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oMotivoDeveConter(java.lang.String)
  E o OS Service deve receber a compensaþÒo                  # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oOsServiceDeveReceberACompensacao()
  E o Billing Service deve receber a compensaþÒo             # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oBillingServiceDeveReceberACompensacao()
{"timestamp":"2026-02-01T23:47:43.1633869-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 5c2d9a13-231e-5e87-9471-fbe931e4f5bd)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 5c2d9a13-231e-5e87-9471-fbe931e4f5bd)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:43.1748441-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:43.1764713-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:43.1773709-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:43.1773709-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:43.2303202-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:43.2303202-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:43.8189379-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:43.8670225-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:44.1241824-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:44.1241824-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:44.1241824-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:44.1241824-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:44.1251824-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:44.1261819-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:44.1281835-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:44.129182-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:44.1301822-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:44.1316963-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:44.1350968-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:44.3053755-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:44.4142575-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:44.4142575-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:44.4142575-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:44.4142575-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:44.4152568-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:44.4162581-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:44.4162581-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:44.6623569-03:00","@version":"1","message":"Started SagaExecucaoSteps in 1.471 seconds (process running for 53.712)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: IdempotÛncia - Evento Duplicado OS_CRIADA                                 # features/saga_execucao.feature:102
  Dado que o Execution Service estß disponÝvel                                     # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada                               # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que jß existe uma execuþÒo para a OS "550e8400-e29b-41d4-a716-446655440000" # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queJaExisteUmaExecucaoParaOS(java.lang.String)
  Quando o evento "OS_CRIADA" Ú recebido novamente                                 # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oEventoERecebidoNovamente(java.lang.String)
  EntÒo o evento deve ser ignorado                                                 # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.eventoDeveSerIgnorado()
  E nenhuma nova execuþÒo deve ser criada                                          # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.nenhumaNovaExecucaoDeveSerCriada()
  E um log de duplicata deve ser registrado                                        # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.umLogDeDuplicataDeveSerRegistrado()
{"timestamp":"2026-02-01T23:47:45.1414555-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 345ad366-2815-540b-b8f8-b29c3ae9a19e)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 345ad366-2815-540b-b8f8-b29c3ae9a19e)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:45.1515149-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:45.1525109-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:45.1525109-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:45.1535154-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:45.2015749-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:45.2015749-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:46.2080959-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:46.2743432-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:46.4402187-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:46.4402187-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:46.4402187-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:46.4412192-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:46.4412192-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:46.4432178-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:46.4442572-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:46.4467716-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:46.4477716-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:46.4512964-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:46.4532989-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:46.5591135-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:46.6259351-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:46.6259351-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:46.6259351-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:46.6259351-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:46.6269311-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:46.6269311-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:46.6269311-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:46.7283187-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 9ee7c656-d101-5249-9fd2-a7acc3fff6b6)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 9ee7c656-d101-5249-9fd2-a7acc3fff6b6)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:46.7748911-03:00","@version":"1","message":"Started SagaExecucaoSteps in 1.614 seconds (process running for 55.825)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: IdempotÛncia - Evento Duplicado ORCAMENTO_APROVADO # features/saga_execucao.feature:109
  Dado que o Execution Service estß disponÝvel              # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada        # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que uma execuþÒo jß estß em status "EM_ANDAMENTO"    # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queUmaExecucaoJaEstaEmStatus(java.lang.String)
  Quando o evento "ORCAMENTO_APROVADO" Ú recebido novamente # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oEventoERecebidoNovamente(java.lang.String)
  EntÒo o evento deve ser ignorado                          # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.eventoDeveSerIgnorado()
  E o status nÒo deve mudar                                 # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oStatusNaoDeveMudar()
  E um log de warning deve ser gerado                       # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.umLogDeWarningDeveSerGerado()
{"timestamp":"2026-02-01T23:47:46.8864997-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (OS): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: e39567f0-9c0c-559d-ba7e-060a8ef2f162)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: e39567f0-9c0c-559d-ba7e-060a8ef2f162)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeOSEvents(ExecutionEventListener.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:47.2406246-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: eba60c35-c8ff-5208-b076-6dcfda01ad56)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: eba60c35-c8ff-5208-b076-6dcfda01ad56)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:47.2502739-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:47.2511209-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:47.2521155-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:47.2521155-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:47.2928235-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:47.2928235-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:47.7527333-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:47.8406233-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:47.9418459-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:47.9428486-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:47.9428486-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:47.9428486-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:47.9428486-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:47.9438468-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:47.9458461-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:47.9458461-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:47.9475015-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:47.9490331-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:47.9510455-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:48.0732525-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:48.1446161-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:48.1446161-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:48.1446161-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:48.1446161-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:48.1446161-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:48.1446161-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:48.1446161-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:48.2577687-03:00","@version":"1","message":"Started SagaExecucaoSteps in 0.997 seconds (process running for 57.308)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: ValidaþÒo - Tentativa de Iniciar ExecuþÒo sem AprovaþÒo  # features/saga_execucao.feature:116
  Dado que o Execution Service estß disponÝvel                    # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada              # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que existe uma execuþÒo com status "AGUARDANDO_INICIO"     # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExisteUmaExecucaoComStatus(java.lang.String)
  E o orþamento ainda nÒo foi aprovado                            # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.orcamentoAindaNaoFoiAprovado()
  Quando o mecÔnico tenta iniciar a execuþÒo manualmente          # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.oMecanicoTentaIniciarAExecucaoManualmente()
  EntÒo a execuþÒo nÒo deve iniciar                               # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aExecucaoNaoDeveIniciar()
  E um erro deve ser retornado                                    # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.umErroDeveSerRetornado()
  E uma mensagem deve indicar "Aguardando aprovaþÒo do orþamento" # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.umaMensagemDeveIndicar(java.lang.String)
{"timestamp":"2026-02-01T23:47:48.7287503-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 49ef0dd7-9b0a-5d68-adb7-6c2d880a1b7d)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 49ef0dd7-9b0a-5d68-adb7-6c2d880a1b7d)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:48.7390523-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:48.7390523-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:48.7400664-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:48.7400664-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:48.7804863-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:48.7814928-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:49.3116092-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:49.3529635-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:49.4528714-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:49.4528714-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:49.4528714-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:49.45372-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:49.45372-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:49.4557164-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:49.4583865-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:49.4593677-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:49.4603671-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:49.4628962-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:49.4639038-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:49.5667725-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:49.6329989-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:49.6329989-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:49.6329989-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:49.6329989-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:49.6329989-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:49.6329989-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:49.6329989-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:49.7648968-03:00","@version":"1","message":"Started SagaExecucaoSteps in 1.017 seconds (process running for 58.815)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: Hist¾rico - Rastreamento Completo da ExecuþÒo # features/saga_execucao.feature:124
  Dado que o Execution Service estß disponÝvel         # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada   # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que uma execuþÒo passou por todo o ciclo        # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queUmaExecucaoPassouPorTodoCiclo()
  Quando eu consulto o hist¾rico da execuþÒo           # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.euConsultoOHistoricoDaExecucao()
  EntÒo deve haver registros de:                       # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.deveHaverRegistrosDe(io.cucumber.datatable.DataTable)
    | status_anterior   | status_novo       | evento_causador    |
    | null              | AGUARDANDO_INICIO | OS_CRIADA          |
    | AGUARDANDO_INICIO | EM_ANDAMENTO      | ORCAMENTO_APROVADO |
    | EM_ANDAMENTO      | CONCLUIDA         | FinalizaþÒo manual |
  E cada registro deve ter timestamp                   # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.cadaRegistroDeveTerTimestamp()
  E deve haver registro de todas as tarefas executadas # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.deveHaverRegistroDeTodasAsTarefasExecutadas()
  E deve haver registro de todas as peþas utilizadas   # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.deveHaverRegistroDeTodasAsPecasUtilizadas()
{"timestamp":"2026-02-01T23:47:50.2304875-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 5e6dab38-c87d-59ab-aa26-cac2db7c27e9)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 5e6dab38-c87d-59ab-aa26-cac2db7c27e9)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:50.2407119-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:50.2417126-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:50.2432219-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:50.2435034-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::               (v3.3.13)

{"timestamp":"2026-02-01T23:47:50.2818012-03:00","@version":"1","message":"Starting SagaExecucaoSteps using Java 21.0.9 with PID 9496 (started by Meu Computador in C:\\Users\\Meu Computador\\OneDrive\\┴rea de Trabalho\\FIAP\\projeto\\fase_quatro\\oficina-execution-service)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:50.2828137-03:00","@version":"1","message":"The following 1 profile is active: \"test\"","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}
{"timestamp":"2026-02-01T23:47:50.8445427-03:00","@version":"1","message":"Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.","logger":"org.flywaydb.core.internal.database.base.Database","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:50.9033513-03:00","@version":"1","message":"HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)","logger":"org.hibernate.orm.deprecation","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:51.0077631-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.0088574-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.0088574-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.0088574-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.0098688-03:00","@version":"1","message":"\r\n    create table diagnosticos (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_diagnostico timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao TEXT not null,\r\n        observacoes TEXT,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.0118701-03:00","@version":"1","message":"\r\n    create table execucoes_os (\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        updated_at timestamp(6) with time zone not null,\r\n        version bigint,\r\n        id UUID not null,\r\n        orcamento_id UUID not null,\r\n        os_id UUID not null unique,\r\n        mecanico varchar(100) not null,\r\n        observacoes TEXT,\r\n        status enum ('AGUARDANDO_INICIO','CANCELADA','CONCLUIDA','EM_ANDAMENTO') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.0138706-03:00","@version":"1","message":"\r\n    create table tarefas (\r\n        tempo_estimado_minutos integer,\r\n        tempo_real_minutos integer,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_finalizacao timestamp(6) with time zone,\r\n        data_inicio timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        mecanico varchar(100) not null,\r\n        descricao varchar(200) not null,\r\n        status enum ('CANCELADA','CONCLUIDA','EM_ANDAMENTO','PENDENTE') not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.0159397-03:00","@version":"1","message":"\r\n    create table uso_pecas (\r\n        quantidade integer not null,\r\n        valor_total numeric(10,2) not null,\r\n        valor_unitario numeric(10,2) not null,\r\n        created_at timestamp(6) with time zone not null,\r\n        data_uso timestamp(6) with time zone not null,\r\n        execucao_id UUID not null,\r\n        id UUID not null,\r\n        peca_id UUID not null,\r\n        descricao varchar(200) not null,\r\n        primary key (id)\r\n    )","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.0184571-03:00","@version":"1","message":"\r\n    alter table if exists diagnosticos \r\n       add constraint FKmjovv20vi2qh9oxpf29j25u49 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.0204636-03:00","@version":"1","message":"\r\n    alter table if exists tarefas \r\n       add constraint FKoe69cvqyrx7749otdwnjadlt7 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.0224582-03:00","@version":"1","message":"\r\n    alter table if exists uso_pecas \r\n       add constraint FKgsxtaqq135tpj9hxrkmx2b4l1 \r\n       foreign key (execucao_id) \r\n       references execucoes_os","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.1867544-03:00","@version":"1","message":"spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning","logger":"org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:51.3182374-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/auth/**'], Ant [pattern='/api/v1/auth/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:51.3192373-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/health/**'], Ant [pattern='/actuator/health/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:51.3192373-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:51.3192373-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:51.3192373-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:51.3202373-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:51.3202373-03:00","@version":"1","message":"You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.","logger":"org.springframework.security.config.annotation.web.builders.WebSecurity","thread":"main","level":"WARN","level_value":30000}
{"timestamp":"2026-02-01T23:47:51.4519065-03:00","@version":"1","message":"Started SagaExecucaoSteps in 1.199 seconds (process running for 60.502)","logger":"br.com.grupo99.executionservice.bdd.SagaExecucaoSteps","thread":"main","level":"INFO","level_value":20000}

Cenßrio: Saga Completo - Happy Path do Execution     # features/saga_execucao.feature:136
  Dado que o Execution Service estß disponÝvel       # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queExecutionServiceEstaDisponivel()
  E a fila "execution-events-queue" estß configurada # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.aFilaEstaConfigurada(java.lang.String)
  Dado que o evento "OS_CRIADA" foi recebido         # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.queOEventoFoiRecebido(java.lang.String)
  Quando todos os passos do Saga sÒo executados:     # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.todosOsPassosDoSagaSaoExecutados(io.cucumber.datatable.DataTable)
    | passo | aþÒo                       | status_resultado  |
    | 1     | Receber OS_CRIADA          | AGUARDANDO_INICIO |
    | 2     | Realizar diagn¾stico       | AGUARDANDO_INICIO |
    | 3     | Receber ORCAMENTO_APROVADO | EM_ANDAMENTO      |
    | 4     | Executar tarefas           | EM_ANDAMENTO      |
    | 5     | Finalizar execuþÒo         | CONCLUIDA         |
  EntÒo a execuþÒo deve estar com status "CONCLUIDA" # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.execucaoDeveEstarComStatus(java.lang.String)
  E todos os eventos devem ter sido publicados       # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.todosOsEventosDevemTerSidoPublicados()
  E nenhuma compensaþÒo deve ter sido acionada       # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.nenhumaCompensacaoDeveTerSidoAcionada()
  E todas as mÚtricas devem estar registradas        # br.com.grupo99.executionservice.bdd.SagaExecucaoSteps.todasAsMetricasDevemEstarRegistradas()
{"timestamp":"2026-02-01T23:47:51.9088039-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: dfffad25-0479-50b7-815c-ccdf177a4448)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: dfffad25-0479-50b7-815c-ccdf177a4448)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:51.9538472-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (Billing): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 94de1ef5-7985-5b25-9cbd-7f0f6a8651b9)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 94de1ef5-7985-5b25-9cbd-7f0f6a8651b9)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeBillingEvents(ExecutionEventListener.java:96)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
{"timestamp":"2026-02-01T23:47:51.9633577-03:00","@version":"1","message":"\r\n    drop table if exists diagnosticos cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.9648638-03:00","@version":"1","message":"\r\n    drop table if exists execucoes_os cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.9658714-03:00","@version":"1","message":"\r\n    drop table if exists tarefas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:51.9668725-03:00","@version":"1","message":"\r\n    drop table if exists uso_pecas cascade ","logger":"org.hibernate.SQL","thread":"main","level":"DEBUG","level_value":10000}
{"timestamp":"2026-02-01T23:47:52.068487-03:00","@version":"1","message":"Erro ao consumir mensagens do SQS (OS): The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 9356ebcd-47f6-5a52-808e-8a3754f51ead)","logger":"br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener","thread":"scheduling-1","level":"ERROR","level_value":40000,"stack_trace":"software.amazon.awssdk.services.sqs.model.QueueDoesNotExistException: The specified queue does not exist for this wsdl version. (Service: Sqs, Status Code: 400, Request ID: 9356ebcd-47f6-5a52-808e-8a3754f51ead)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.sqs.DefaultSqsClient.receiveMessage(DefaultSqsClient.java:1396)\r\n\tat br.com.grupo99.executionservice.infrastructure.messaging.ExecutionEventListener.consumeOSEvents(ExecutionEventListener.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.runInternal(ScheduledMethodRunnable.java:130)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.lambda$run$2(ScheduledMethodRunnable.java:124)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:499)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:124)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n"}
